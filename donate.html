<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Donate | W1NS Foundation</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

  <header>
    <h1>Biyearly Golf Fundraiser</h1>
    <p>Supporting Savage Sisters in 2026 in memory of Jennifer Killea</p>

    <nav>
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="donate.html">Sign Up/Donate</a>
    </nav>
  </header>

  <section id="donate">
    <h2>Player Registration</h2>

<label for="playerCount"><strong>Number of Players:</strong></label>
<select id="playerCount">
  <option value="1">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
  <option value="4">4</option>
</select>

<br><br>

<form id="signupForm">
  <div id="playersContainer"></div>
  <button type="submit">Submit Registration</button>
</form>

<p id="formMessage"></p>

<script>
  const scriptURL = "https://script.google.com/macros/s/AKfycbxnzjCe7KMUEIQ_I_eJo33zskmpvwduAW9A7HlKk5DnQcBp9rr3vmduqkb4F1UHk0moZA/exec";
  const playerCount = document.getElementById("playerCount");
  const container = document.getElementById("playersContainer");
  const form = document.getElementById("signupForm");
  const message = document.getElementById("formMessage");

  function generateForms(count) {
    container.innerHTML = "";

    for (let i = 1; i <= count; i++) {
      const playerDiv = document.createElement("div");
      playerDiv.innerHTML = `
        <h3>Player ${i}</h3>
        <input type="text" name="name${i}" placeholder="Full Name" required><br><br>
        <input type="email" name="email${i}" placeholder="Email" required><br><br>
        <input type="tel" name="phone${i}" placeholder="Phone"><br><br>
        <hr>
      `;
      container.appendChild(playerDiv);
    }
  }

  playerCount.addEventListener("change", () => {
    generateForms(playerCount.value);
  });

  generateForms(1);

  form.addEventListener("submit", e => {
    e.preventDefault();

    const count = parseInt(playerCount.value);

    for (let i = 1; i <= count; i++) {
      const formData = new FormData();
      formData.append("name", form.querySelector(`[name=name${i}]`).value);
      formData.append("email", form.querySelector(`[name=email${i}]`).value);
      formData.append("phone", form.querySelector(`[name=phone${i}]`).value);

      fetch(scriptURL, { method: "POST", body: formData });
    }

    message.innerHTML = "Registration submitted successfully!";
    form.reset();
    generateForms(1);
  });
</script>


    <h3>Make a Direct Donation</h3>

    <p>
      Your generosity directly supports trauma-informed recovery housing,
      disease prevention, and education for those affected by substance
      use disorder.
    </p>

    <p class="indent">
      All proceeds from this fundraiser benefit the Savage Sisters
      Organization, a registered 501(c)(3) nonprofit.
    </p>

    <button id="donateBtn">Donate Now</button>

    <script src="js/script.js"<></script>
  </section>

</body>
</html>

